<p-toast></p-toast>

<p-dialog
    header="Dialog"
    [(visible)]="display"
    [modal]="true"
    showEffect="fade"
    [style]="{ width: '30vw' }"
    [breakpoints]="{ '960px': '75vw' }"
>
    <div class="line-height-3 m-0">
        <h5>Employee Detail</h5>
        <div class="p-fluid p-formgrid grid">
            <div class="field col-12 md:col-6">
                <label htmlFor="name">Name</label>
                <input
                    pInputText
                    id="name"
                    type="text"
                    [(ngModel)]="updateObj.Name"
                />
            </div>
            <div class="field col-12 md:col-6">
                <label htmlFor="age">Age</label>
                <p-inputNumber
                    inputId="inputnumber"
                    id="age"
                    [(ngModel)]="updateObj.Age"
                ></p-inputNumber>
            </div>
            <div class="field col-12">
                <label htmlFor="dob">DOB</label>
                <input
                    type="text"
                    pInputText
                    placeholder="Date of Birth"
                    [disabled]="true"
                    [(ngModel)]="updateObj.DOB"
                />
            </div>
            <div class="field col-12 md:col-6">
                <label htmlFor="address">Address</label>
                <input
                    pInputText
                    id="address"
                    type="text"
                    [(ngModel)]="updateObj.Address"
                />
            </div>
        </div>
    </div>
    <ng-template pTemplate="footer">
        <button
            pButton
            (click)="updateEmployee()"
            label="Update"
            class="p-button-outlined"
        ></button>
    </ng-template>
</p-dialog>
<div class="grid">
    <div class="col-12">
        <div class="card">
            <h5>Axian Employee</h5>
            <button
                pButton
                pRipple
                type="button"
                label="Add New"
                class="p-button-raised"
                [routerLink]="['/main/emp/add']"
            ></button>
            <p-table
                [value]="empList"
                scrollDirection="both"
                [scrollable]="true"
                scrollHeight="400px"
                styleClass="mt-3"
                responsiveLayout="scroll"
            >
                <ng-template pTemplate="header">
                    <tr>
                        <th style="width: 200px" pFrozenColumn>Name</th>

                        <th style="width: 200px">Age</th>
                        <th style="width: 200px">DOB</th>
                        <th style="width: 200px">Address</th>
                        <th style="width: 200px">Action</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-employee>
                    <tr>
                        <td
                            style="width: 200px"
                            pFrozenColumn
                            class="font-bold"
                        >
                            {{ employee.name }}
                        </td>

                        <td style="width: 200px">{{ employee.age }}</td>
                        <td style="width: 200px">
                            {{ employee.dob | date }}
                        </td>

                        <td style="width: 200px">{{ employee.address }}</td>

                        <td
                            style="width: 200px"
                            pFrozenColumn
                            class="font-bold"
                            alignFrozen="right"
                        >
                            <button
                                pButton
                                pRipple
                                type="button"
                                icon="pi pi-user-edit"
                                class="p-button-rounded"
                                (click)="openUpdateModel(employee)"
                            ></button>
                            <span class="ml-2"></span>
                            <button
                                pButton
                                pRipple
                                type="button"
                                icon="pi pi-delete-left"
                                class="p-button-rounded p-button-danger"
                                (click)="deleteEmployee(employee)"
                            ></button>
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>
